<!DOCTYPE html>
<html lang="en" class="h-full dark:pintree-bg-gray-900 bg-white">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YYN69K76WE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YYN69K76WE');
  </script>
  <!-- umami-->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="eb885f8f-1e2c-4f9b-9e5a-5474c214a1ab"></script>

  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>导航模式 - 喵喵工具集</title>
  <meta name="keywords" content="导航模式,分类导航,网站分类,资源导航,工具分类">
  <meta name="description" content="喵喵工具集导航模式，按分类浏览文件转换、PDF编辑、AI工具、图片处理等，所有网站工具，支持层级导航和快速访问。">
  <meta name="author" content="Cheng">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://miaonav.top/navmode.html">

  <!-- Facebook Meta Tags -->
  <meta property="og:url" content="https://miaonav.top/navmode.html">
  <meta property="og:type" content="website">
  <meta property="og:title" content="导航模式 - 喵喵工具集">
  <meta property="og:description" content="喵喵工具集导航模式，按分类浏览所有网站资源，支持层级导航和快速访问。">
  <meta property="og:image" content="/assets/favicon/apple-touch-icon.png">

  <!-- Twitter Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="twitter:domain" content="https://miaonav.top">
  <meta property="twitter:url" content="https://miaonav.top/navmode.html">
  <meta name="twitter:title" content="导航模式 - 喵喵工具集">
  <meta name="twitter:description" content="喵喵工具集导航模式，按分类浏览所有网站资源，支持层级导航和快速访问。">
  <meta name="twitter:image" content="/assets/favicon/apple-touch-icon.png">

  <!-- Favicon -->
  <link rel="icon" href="/assets/favicon/favicon-64x64.png" type="image/svg+xml">
  <link rel="shortcut icon" href="/assets/favicon/apple-touch-icon.png" type="image/svg+xml">
  
  <!-- Stylesheet -->
  <link rel="stylesheet" href="css/tailwind.css">
  <link rel="stylesheet" href="css/custom.css">
  
</head>

<body class="h-full dark:pintree-bg-gray-900 bg-white">

  <div>
    <!-- Mobile Off-Canvas Menu -->
    <div id="off-canvas-menu" class="relative z-50 lg:hidden hidden" role="dialog" aria-modal="true">
      
      <div id="off-canvas-backdrop"
        class="fixed inset-0 bg-gray-900/80 opacity-0 transition-opacity ease-linear duration-300"></div>
      
      <div class="fixed inset-0 flex">
        <div id="off-canvas-content"
          class="relative mr-16 flex w-full max-w-xs flex-1 -translate-x-full transition ease-in-out duration-300 transform">
          <!-- Close button for the off-canvas menu -->
          <div class="absolute left-full top-0 flex w-16 justify-center pt-5">
            <button id="close-sidebar-button" type="button" class="-m-2.5 p-2.5">
              <span class="sr-only">Close sidebar</span>
              <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
                aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>
          </div>

          <!-- Off-canvas Sidebar content -->
          <div class="flex grow flex-col gap-y-5 overflow-y-auto bg-white dark:pintree-bg-gray-900 px-6 pb-4">
            <div class="flex h-16 shrink-0 items-center">
              <img class="pl-2 h-8 w-auto" src="assets/logo.svg" alt="喵喵工具集">
              <h1 class="ml-4 font-extrabold text-2xl dark:text-white">喵喵工具集</h1>
            </div>
            <div id="sidebar-2" class="flex flex-1 flex-col">
              <!-- Sidebar content will be injected here -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Static Sidebar for Desktop -->
    <div class="hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-60 lg:flex-col">
      <div
        class="flex flex-col border-r border-gray-200 dark:pintree-border-gray-800 bg-white px-4 h-full font-semibold dark:pintree-bg-gray-900">
        <div class="flex p-0 h-16 shrink-0 items-center">
          <img class="pl-2 h-8 w-auto" src="assets/logo.svg" alt="喵喵工具集">
          <a href="index.html" class="ml-4 font-extrabold text-2xl dark:text-white">喵喵工具集</a>
        </div>
        <div class="flex flex-1 flex-col overflow-y-auto no-scrollbar p-1 cursor-pointer">
          <div id="sidebar" class="flex flex-1 flex-col">
            <ul id="navigation" class="space-y-1">
              <!-- Navigation items will be inserted here -->
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="lg:pl-60 dark:pintree-bg-gray-900 flex flex-col min-h-screen">
      <div
        class="items-center justify-between sticky top-0 z-40 flex h-16 shrink-0 gap-x-4 border-b border-gray-200 dark:pintree-border-gray-800 bg-white dark:pintree-bg-gray-900 px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8">
        <div class="h-full items-center flex flex-1 gap-x-4 self-stretch lg:gap-x-6 justify-between">
          <div class="flex gap-x-4 justify-between">
            <img class="pl-2 h-8 w-auto lg:hidden" src="assets/logo.svg" alt="喵喵工具集">
            <div class="hidden lg:block relative w-72 h-full items-center justify-between">
              <button id="searchButton" class="absolute h-full text-gray-400 rounded">
                <svg class="pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400" viewBox="0 0 20 20"
                  fill="currentColor" aria-hidden="true">
                  <path fill-rule="evenodd"
                    d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
                    clip-rule="evenodd"></path>
                </svg>
              </button>
              <input id="searchInput" type="search"
                class="text-sm text-gray-900 dark:text-gray-400 pl-8 h-full border-0 focus:outline-none focus:ring-0 dark:pintree-bg-gray-900"
                placeholder="搜索...">
              <button id="clearSearchButton" class="text-sm text-gray-500 mr-4 rounded hidden">清除</button>
            </div>
          </div>
          <a href="index.html" class="lg:hidden ml-4 font-extrabold text-2xl dark:text-white">喵喵工具集</a>
          <div class="relative flex items-center">
            <!-- PC端导航链接 -->
            <div class="hidden pc-nav-links lg:items-center nav-links-spacing">
              <a href="https://miaonav.top" class="text-green-600 hover:text-green-500 text-sm font-bold mr-4">网址导航</a>
              <a href="https://miaonav.top/aiprompt" class="text-green-600 hover:text-green-500 text-sm font-bold">AI提示词</a>
            </div>
            <button id="themeToggleButton" type="button" aria-label="Switch theme"
              class="group rounded-full bg-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:pintree-bg-gray-900 dark:ring-white/10 dark:hover:ring-white/20">
              <svg id="sunIcon" viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"
                aria-hidden="true"
                class="h-6 w-6 fill-zinc-100 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-teal-50 [@media(prefers-color-scheme:dark)]:stroke-teal-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-teal-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-teal-600">
                <path
                  d="M8 12.25A4.25 4.25 0 0 1 12.25 8v0a4.25 4.25 0 0 1 4.25 4.25v0a4.25 4.25 0 0 1-4.25 4.25v0A4.25 4.25 0 0 1 8 12.25v0Z">
                </path>
                <path
                  d="M12.25 3v1.5M21.5 12.25H20M18.791 18.791l-1.06-1.06M18.791 5.709l-1.06 1.06M12.25 20v1.5M4.5 12.25H3M6.77 6.77 5.709 5.709M6.77 17.73l-1.061 1.061"
                  fill="none"></path>
              </svg>
              <svg id="moonIcon" viewBox="0 0 24 24" aria-hidden="true"
                class="hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-teal-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-teal-500">
                <path
                  d="M17.25 16.22a6.937 6.937 0 0 1-9.47-9.47 7.451 7.451 0 1 0 9.47 9.47ZM12.75 7C17 7 17 2.75 17 2.75S17 7 21.25 7C17 7 17 11.25 17 11.25S17 7 12.75 7Z"
                  stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Main content area -->
      <main class="mt-4 dark:pintree-bg-gray-900 flex-grow">
        <div id="loading-spinner" class="flex justify-center items-center h-full">
          <div class="loader ease-linear rounded-full border-2 border-t-2 border-gray-400 h-6 w-6"></div>
        </div>
        <div id="breadcrumbs" class="mt-2 px-6 text-sm text-gray-400 flex justify-between items-center">
          <div id="breadcrumbs-path" class="">
            <!-- Breadcrumbs will be inserted here -->
          </div>
          <div class="flex space-x-4">
            <a href="https://miaonav.top" class="text-green-600 hover:text-green-500 text-sm font-bold">文件夹模式</a>
          </div>
        </div>
        <div id="navigation-content" class="p-6">
          <!-- Navigation content will be inserted here -->
        </div>
      </main>

      <!-- Footer -->
      <footer class="bg-white w-full dark:pintree-bg-gray-900">
        <div class="mx-auto px-6 py-6 md:flex md:items-center md:justify-between lg:px-8">
          <div class="flex justify-center space-x-6 md:order-2">
          <div class="mt-8 md:order-1 md:mt-0">
            <p class="text-center text-xs leading-5 text-gray-500 dark:text-gray-400 flex justify-center items-center">
              © <span id="currentYear"></span> 喵喵工具集 Built with
              <a href="https://pintree.io" class="text-green-600 hover:text-green-500 flex items-center ml-1"
                target="_blank">
                <svg width="10" height="12" viewBox="0 0 10 12" fill="none" xmlns="http://www.w3.org/2000/svg"
                  class="inline-block mr-1">
                  <g clip-path="url(#clip0_421_47774)">
                    <path d="M4.27777 9.11133H6.6111V12.0002L5.44444 10.8783L4.27777 12.0002V9.11133Z" fill="#FCB11E" />
                    <path
                      d="M9.05557 5.72222L5.22223 0L1.3889 5.72222H2.68634L0.444458 9.11111H10L7.75813 5.72222H9.05557Z"
                      fill="#2D9C6C" />
                  </g> 
                  
                  <defs>
                    <clipPath id="clip0_421_47774">
                      <rect width="9.55556" height="12" fill="white" transform="translate(0.444458)" />
                    </clipPath>
                  </defs>
                </svg>
                Pintree
              </a>
            </p>
            <!-- 移动端导航链接 -->
            <div class="mobile-nav-links mt-2 flex justify-center space-x-6">
              <a href="https://new.miaonav.top" class="text-green-600 hover:text-green-500 text-sm" target="_blank">网址导航</a>
              <a href="https://miaonav.top/aiprompt" class="text-green-600 hover:text-green-500 text-sm" target="_blank">AI提示词</a>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Variables for sidebar elements
      const openSidebarButton = document.getElementById('open-sidebar-button');
      const closeSidebarButton = document.getElementById('close-sidebar-button');
      const offCanvasMenu = document.getElementById('off-canvas-menu');
      const offCanvasBackdrop = document.getElementById('off-canvas-backdrop');
      const offCanvasContent = document.getElementById('off-canvas-content');

      // Function to open the sidebar
      const openSidebar = () => {
        offCanvasMenu.classList.remove('hidden');
        setTimeout(() => {
          offCanvasBackdrop.classList.add('opacity-100');
          offCanvasContent.classList.add('translate-x-0');
        }, 10);
      };

      // Function to close the sidebar
      const closeSidebar = () => {
        offCanvasBackdrop.classList.remove('opacity-100');
        offCanvasContent.classList.remove('translate-x-0');
        setTimeout(() => {
          offCanvasMenu.classList.add('hidden');
        }, 300); // Match the duration of the transition
      };

      // Event listeners for open and close buttons if they exist
      if (openSidebarButton) openSidebarButton.addEventListener('click', openSidebar);
      if (closeSidebarButton) closeSidebarButton.addEventListener('click', closeSidebar);
      if (offCanvasBackdrop) offCanvasBackdrop.addEventListener('click', closeSidebar);

      // Search functionality
      function searchBookmarks(query) {
        fetch('json/pintree.json')
          .then(response => response.json())
          .then(data => {
            const results = searchInData(data, query.toLowerCase());
            renderNavigationContent(results, [{ title: '搜索结果', children: results }]);
          })
          .catch(error => console.error('Error searching bookmarks:', error));
      }

      function searchInData(data, query) {
        let results = [];
        data.forEach(item => {
          if (item.title.toLowerCase().includes(query)) {
            results.push(item);
          }
          if (item.children) {
            const childResults = searchInData(item.children, query);
            if (childResults.length > 0) {
              results = results.concat(childResults);
            }
          }
        });
        return results;
      }

      if (document.getElementById('searchButton')) {
        document.getElementById('searchButton').addEventListener('click', () => {
          const query = document.getElementById('searchInput').value;
          searchBookmarks(query);
        });
      }

      // Clear search results and reset UI
      function clearSearchResults() {
        fetch('json/pintree.json')
          .then(response => response.json())
          .then(data => {
            renderNavigationSidebar(data, document.getElementById('navigation'));
            renderNavigationContent(data, [{ title: '导航模式', children: data }]);
            if (document.getElementById('searchInput')) {
              document.getElementById('searchInput').value = '';
            }
            if (document.getElementById('clearSearchButton')) {
              document.getElementById('clearSearchButton').classList.add('hidden');
            }
          })
          .catch(error => console.error('Error clearing search results:', error));
      }

      if (document.getElementById('clearSearchButton')) {
        document.getElementById('clearSearchButton').addEventListener('click', clearSearchResults);
      }

      // Create bookmark card element
      function createCard(title, url, icon) {
        const card = document.createElement('div');
        card.className = 'cursor-pointer flex items-center hover:shadow-sm transition-shadow p-4 bg-white shadow-sm ring-1 ring-gray-900/5 dark:pintree-ring-gray-800 rounded-lg hover:bg-gray-100 dark:pintree-bg-gray-900 dark:hover:pintree-bg-gray-800';
        card.onclick = () => window.open(url, '_blank'); // Make the whole card clickable

        const cardIcon = document.createElement('img');
        cardIcon.src = icon || 'assets/default-icon.svg'; // Use provided icon or default icon
        cardIcon.alt = title;
        cardIcon.className = 'w-8 h-8 mr-4 rounded-full flex-shrink-0 card-icon-bg'; // Smaller size and rounded

        // Check if the image URL returns 404 and replace it with the default icon if it does
        cardIcon.onerror = () => {
          cardIcon.src = 'assets/default-icon.svg';
        };

        const cardContent = document.createElement('div');
        cardContent.className = 'flex flex-col overflow-hidden'; // Ensure the content is hidden if too long

        const cardTitle = document.createElement('h3');
        cardTitle.className = 'text-sm font-medium mb-1 truncate dark:text-gray-400';
        cardTitle.innerText = title;

        // Clean URL by removing http(s) and trailing slash
        const cleanUrl = url.replace(/^https?:\/\//, '').replace(/\/$/, '');

        const cardUrl = document.createElement('p');
        cardUrl.className = 'text-xs text-gray-400 dark:text-gray-600 dark:hover:text-gray-400 truncate';
        cardUrl.innerText = cleanUrl; // Use cleaned URL

        cardContent.appendChild(cardTitle);
        cardContent.appendChild(cardUrl); // Add URL paragraph

        card.appendChild(cardIcon);
        card.appendChild(cardContent);

        return card;
      }

      // Create folder card element
      function createFolderCard(title, children, path) {
        const card = document.createElement('div');
        card.className = 'cursor-pointer flex items-center hover:shadow-sm transition-shadow p-4 bg-white shadow-sm ring-1 ring-gray-900/5 dark:pintree-ring-gray-800 rounded-lg hover:bg-gray-100 dark:pintree-bg-gray-900 dark:hover:pintree-bg-gray-800';
        card.onclick = () => {
          // 创建新路径，确保包含完整的层级信息
          const newPath = [...path];
          
          // 确保添加的文件夹对象包含完整信息
          // 如果children是完整的文件夹对象，直接使用它；否则创建一个新对象
          const folderData = Array.isArray(children) ? 
            { title, children } : 
            children || { title, children: [] };
            
          newPath.push(folderData);
          renderNavigationContent(folderData.children || [], newPath);
          updateSidebarActiveState(newPath); // Update sidebar active state
        };

        const cardIcon = document.createElement('div');
        cardIcon.innerHTML = `
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-gray-400" fill="currentColor" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7a2 2 0 012-2h4l2 2h7a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z" />
          </svg>
        `;
        cardIcon.className = 'w-8 h-8 mr-4 flex-shrink-0';

        const cardContent = document.createElement('div');
        cardContent.className = 'flex flex-col overflow-hidden';

        const cardTitle = document.createElement('h3');
        cardTitle.className = 'text-sm font-medium mb-1 truncate dark:text-gray-400';
        cardTitle.innerText = title;

        cardContent.appendChild(cardTitle);
        card.appendChild(cardIcon);
        card.appendChild(cardContent);

        return card;
      }

      // Render sidebar navigation
      function renderNavigationSidebar(folders, container, isFirstRender = false, path = []) {
        if (!container) return;
        container.innerHTML = ''; // Clear previous content
        folders.forEach((folder, index) => {
          if (folder.type === 'folder') {
            const navItem = document.createElement('li');
            navItem.className = 'items-center group flex justify-between gap-x-3 rounded-md p-2 text-gray-700 dark:text-gray-400 hover:text-main-500 hover:bg-gray-50 dark:hover:pintree-bg-gray-800 bg-opacity-50';

            const navLinkContainer = document.createElement('div');
            navLinkContainer.className = 'flex items-center space-x-2 truncate';

            const folderIcon = document.createElement('span');
            folderIcon.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="currentColor" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7a2 2 0 012-2h4l2 2h7a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2V7z" /></svg>';

            const navLink = document.createElement('a');
            navLink.className = 'flex text-sm leading-6 font-semibold dark:text-gray-400';
            navLink.innerText = folder.title;

            navLinkContainer.appendChild(folderIcon);
            navLinkContainer.appendChild(navLink);

            const toggleIcon = document.createElement('span');
            toggleIcon.className = 'ml-2 transform transition-transform';
            toggleIcon.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>';

            navItem.appendChild(navLinkContainer);
            if (folder.children && folder.children.length > 0) {
              navItem.appendChild(toggleIcon);
            }
            container.appendChild(navItem);

            if (folder.children && folder.children.length > 0) {
              const subList = document.createElement('ul');
              subList.className = 'ml-4 space-y-2 hidden';
              renderNavigationSidebar(folder.children, subList, false, path.concat({ title: folder.title, children: folder.children }));
              container.appendChild(subList);

              if (isFirstRender && index === 0) {
                // Expand the first item on initial render
                subList.classList.remove('hidden');
                toggleIcon.classList.add('rotate-90');
              }

              navItem.onclick = (e) => {
                e.stopPropagation();
                document.querySelectorAll('#navigation .sidebar-active').forEach(el => el.classList.remove('sidebar-active'));
                navItem.classList.add('sidebar-active');
                subList.classList.toggle('hidden');
                if (subList.children.length > 0) {
                  toggleIcon.classList.toggle('rotate-90');
                }
                renderNavigationContent(folder.children, path.concat({ title: folder.title, children: folder.children }));
              };
            } else {
              navItem.onclick = (e) => {
                e.stopPropagation();
                document.querySelectorAll('#navigation .sidebar-active').forEach(el => el.classList.remove('sidebar-active'));
                navItem.classList.add('sidebar-active');
                renderNavigationContent(folder.children || [], path.concat({ title: folder.title, children: folder.children || [] }));
              };
            }
          }
        });
      }

      // Render breadcrumbs for navigation
      function renderBreadcrumbs(path) {
        const breadcrumbsPath = document.getElementById('breadcrumbs-path');
        if (!breadcrumbsPath) return;
        breadcrumbsPath.innerHTML = ''; // Clear previous breadcrumbs

        path.forEach((item, index) => {
          const breadcrumb = document.createElement('span');
          breadcrumb.className = 'cursor-pointer hover:underline';
          breadcrumb.innerText = item.title;
          breadcrumb.onclick = () => {
            // Render bookmarks for the selected breadcrumb
            const newPath = path.slice(0, index + 1);
            renderNavigationContent(item.children, newPath);
            updateSidebarActiveState(newPath); // Update sidebar active state
            if (document.getElementById('clearSearchButton')) {
              document.getElementById('clearSearchButton').classList.add('hidden'); // Hide clear button when navigating through breadcrumbs
            }
          };

          breadcrumbsPath.appendChild(breadcrumb);

          if (index < path.length - 1) {
            const separator = document.createElement('span');
            separator.innerText = ' > ';
            breadcrumbsPath.appendChild(separator);
          }
        });
      }

      // Update the active state of sidebar items
      function updateSidebarActiveState(path) {
        const navigation = document.getElementById('navigation');
        if (!navigation) return;
        document.querySelectorAll('#navigation .sidebar-active').forEach(el => el.classList.remove('sidebar-active'));

        let currentNav = navigation;

        path.forEach((item, index) => {
          const items = currentNav.querySelectorAll('li');
          items.forEach(navItem => {
            const navLink = navItem.querySelector('a');
            if (navLink && navLink.innerText === item.title) {
              if (index === path.length - 1) {
                navItem.classList.add('sidebar-active');
              }

              if (index < path.length - 1) {
                const subList = navItem.querySelector('ul');
                if (subList) {
                  subList.classList.remove('hidden');
                  currentNav = subList;
                }
              }
            }
          });
        });
      }

      // Show a message when no search results are found
      function showNoResultsMessage() {
        const container = document.getElementById('navigation-content');
        if (!container) return;
        container.innerHTML = ''; // Clear previous content

        const messageContainer = document.createElement('div');
        messageContainer.className = 'flex flex-col items-center justify-center h-full';

        const icon = document.createElement('svg');
        icon.setAttribute('xmlns', 'http://www.w3.org/2000/svg');
        icon.setAttribute('class', 'h-16 w-16 text-gray-500');
        icon.setAttribute('fill', 'none');
        icon.setAttribute('viewBox', '0 0 24 24');
        icon.setAttribute('stroke', 'currentColor');
        icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m9-3a9 9 0 11-18 0 9 9 0 0118 0z" />';

        const title = document.createElement('h2');
        title.className = 'text-gray-500 text-xl font-semibold mt-4';
        title.innerText = 'Oops, Nothing to See Here!';

        const message = document.createElement('p');
        message.className = 'text-gray-500 mt-2';
        message.innerText = 'Try another search or discover more cool stuff elsewhere!';

        messageContainer.appendChild(icon);
        messageContainer.appendChild(title);
        messageContainer.appendChild(message);

        container.appendChild(messageContainer);
      }

      // Render navigation content
      function renderNavigationContent(data, path) {
        const container = document.getElementById('navigation-content');
        if (!container) return;
        container.innerHTML = ''; // Clear previous content

        // Render breadcrumbs
        renderBreadcrumbs(path);

        // 检查是否是首页或搜索结果
        const isHomePage = path.length === 1 && path[0].title === '导航模式';
        const isSearchResults = path.length === 1 && path[0].title === '搜索结果';

        if (isSearchResults) {
          // 搜索结果模式 - 分离文件夹和链接
          const folders = data.filter(item => item.type === 'folder');
          const links = data.filter(item => item.type === 'link');

          if (folders.length === 0 && links.length === 0) {
            showNoResultsMessage();
            return;
          }

          // Create folder section
          if (folders.length > 0) {
            const folderSection = document.createElement('div');
            folderSection.className = 'grid grid-cols-3 sm:grid-cols-6 lg:grid-cols-8 2xl:grid-cols-12 gap-6';
            folders.forEach(folder => {
              const card = createFolderCard(folder.title, folder.children, path);
              folderSection.appendChild(card);
            });
            container.appendChild(folderSection);
          }

          // Add separator line if there are links
          if (folders.length > 0 && links.length > 0) {
            const separator = document.createElement('hr');
            separator.className = 'my-1 border-t-1 border-gray-200 dark:pintree-border-gray-800';
            container.appendChild(separator);
          }

          // Create link section
          if (links.length > 0) {
            const linkSection = document.createElement('div');
            linkSection.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6';
            links.forEach(link => {
              const card = createCard(link.title, link.url, link.icon);
              linkSection.appendChild(card);
            });
            container.appendChild(linkSection);
          }
        } else if (isHomePage) {
          // 首页模式 - 展示一级文件夹作为分区标题
          // 首先找到根级文件夹
          const rootFolders = data.filter(item => item.type === 'folder');
          
          if (rootFolders.length === 0) {
            showNoResultsMessage();
            return;
          }

          // 为每个一级文件夹创建一个分区
          rootFolders.forEach(rootFolder => {
            // 创建分区
            const section = document.createElement('div');
            section.className = 'mb-16';
            
            // 添加分区标题
            const titleElement = document.createElement('h2');
            titleElement.className = 'text-lg font-semibold mt-8 mb-8 pb-3 dark:text-gray-400';
            titleElement.innerText = rootFolder.title;
            section.appendChild(titleElement);
            
            // 获取该一级文件夹下的内容
            const folderContent = rootFolder.children || [];
            const subFolders = folderContent.filter(item => item.type === 'folder');
            const links = folderContent.filter(item => item.type === 'link');
            
            // 如果有子文件夹，创建文件夹网格
            if (subFolders.length > 0) {
              const folderGrid = document.createElement('div');
              folderGrid.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6';
              folderGrid.style.marginBottom = '1.5rem'; // 减小间距为适中值
              subFolders.forEach(folder => {
                const folderCard = createFolderCard(folder.title, folder.children, path.concat({ title: rootFolder.title, children: rootFolder.children }));
                folderGrid.appendChild(folderCard);
              });
              section.appendChild(folderGrid);
            }
            
            // 如果有链接，创建链接网格
            if (links.length > 0) {
              // 移除分隔线，使用间距代替
              if (subFolders.length > 0) {
                // 使用间距代替分隔线
              }
              
              const linkGrid = document.createElement('div');
              linkGrid.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6';
              links.forEach(link => {
                const linkCard = createCard(link.title, link.url, link.icon);
                linkGrid.appendChild(linkCard);
              });
              section.appendChild(linkGrid);
            }
            
            container.appendChild(section);
          });
        } else {
          // 层级导航模式 - 展示当前文件夹下的内容，按照一级文件夹组织
          // 如果是多级嵌套，我们需要检查最后一级路径是否有子文件夹
          const currentLevelFolder = path[path.length - 1];
          const folderContent = currentLevelFolder.children || [];
          
          // 检查是否有子文件夹可以作为分区
          const hasSubFolders = folderContent.some(item => item.type === 'folder');
          
          if (hasSubFolders) {
            // 有子文件夹，按照子文件夹组织内容
            folderContent.forEach(subItem => {
              if (subItem.type === 'folder') {
                // 创建分区
                const section = document.createElement('div');
                section.className = 'mb-16';
                
                // 添加分区标题
                const titleElement = document.createElement('h2');
                titleElement.className = 'text-lg font-semibold mt-8 mb-8 pb-3 dark:text-gray-400';
                titleElement.innerText = subItem.title;
                section.appendChild(titleElement);
                
                // 获取该子文件夹下的内容
                const subContent = subItem.children || [];
                const subSubFolders = subContent.filter(item => item.type === 'folder');
                const links = subContent.filter(item => item.type === 'link');
                
                // 如果有子子文件夹，创建文件夹网格
                if (subSubFolders.length > 0) {
                  const folderGrid = document.createElement('div');
                  folderGrid.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6';
                  folderGrid.style.marginBottom = '1.5rem'; // 减小间距为适中值
                  subSubFolders.forEach(folder => {
                    const folderCard = createFolderCard(folder.title, folder.children, path.concat({ title: subItem.title, children: subItem.children }));
                    folderGrid.appendChild(folderCard);
                  });
                  section.appendChild(folderGrid);
                }
                
                // 如果有链接，创建链接网格
                if (links.length > 0) {
                  // 移除分隔线，使用间距代替
                  if (subSubFolders.length > 0) {
                    // 使用间距代替分隔线
                  }
                  
                  const linkGrid = document.createElement('div');
                  linkGrid.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6';
                  links.forEach(link => {
                    const linkCard = createCard(link.title, link.url, link.icon);
                    linkGrid.appendChild(linkCard);
                  });
                  section.appendChild(linkGrid);
                }
                
                container.appendChild(section);
              }
            });
            
            // 同时显示当前文件夹中直接的链接
            const directLinks = folderContent.filter(item => item.type === 'link');
            if (directLinks.length > 0) {
              // 添加间距分隔
              const spacingDiv = document.createElement('div');
              spacingDiv.className = 'mt-16';
              container.appendChild(spacingDiv);
              
              // 添加分区标题
                const titleElement = document.createElement('h2');
                titleElement.className = 'text-lg font-semibold mb-8 pb-3 dark:text-gray-400';
                titleElement.innerText = '直接链接';
                container.appendChild(titleElement);
                
                const linkGrid = document.createElement('div');
                linkGrid.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6 mb-6';
                directLinks.forEach(link => {
                  const linkCard = createCard(link.title, link.url, link.icon);
                  linkGrid.appendChild(linkCard);
                });
                container.appendChild(linkGrid);
            }
          } else {
            // 没有子文件夹，直接显示所有内容
            const folders = folderContent.filter(item => item.type === 'folder');
            const links = folderContent.filter(item => item.type === 'link');

            if (folders.length === 0 && links.length === 0) {
              showNoResultsMessage();
              return;
            }

            // Create folder section
            if (folders.length > 0) {
              const folderSection = document.createElement('div');
              folderSection.className = 'grid grid-cols-3 sm:grid-cols-6 lg:grid-cols-8 2xl:grid-cols-12 gap-6 mb-16';
              folders.forEach(folder => {
                const card = createFolderCard(folder.title, folder.children, path);
                folderSection.appendChild(card);
              });
              container.appendChild(folderSection);
            }

            // 移除分隔线

            // Create link section
            if (links.length > 0) {
              const linkSection = document.createElement('div');
              linkSection.className = 'grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 2xl:grid-cols-6 gap-6';
              links.forEach(link => {
                const card = createCard(link.title, link.url, link.icon);
                linkSection.appendChild(card);
              });
              container.appendChild(linkSection);
            }
          }
        }

        // Update sidebar active state
        updateSidebarActiveState(path);
      }

      // Theme toggle functionality
      const themeToggleButton = document.getElementById('themeToggleButton');
      const sunIcon = document.getElementById('sunIcon');
      const moonIcon = document.getElementById('moonIcon');

      // Apply dark theme
      function applyDarkTheme() {
        document.documentElement.classList.add('dark');
        sunIcon.classList.add('hidden');
        moonIcon.classList.remove('hidden');
      }

      // Apply light theme
      function applyLightTheme() {
        document.documentElement.classList.remove('dark');
        sunIcon.classList.remove('hidden');
        moonIcon.classList.add('hidden');
      }

      // Toggle theme between dark and light
      function toggleTheme() {
        if (document.documentElement.classList.contains('dark')) {
          applyLightTheme();
        } else {
          applyDarkTheme();
        }
      }

      // Event listener for theme toggle button
      if (themeToggleButton) {
        themeToggleButton.addEventListener('click', toggleTheme);
      }

      // Automatically apply theme according to system theme settings
      function applyColorTheme(theme) {
        if (theme === 'dark') {
          applyDarkTheme();
        } else {
          applyLightTheme();
        }
      }

      // Detect initial color theme
      const prefersDarkTheme = window.matchMedia('(prefers-color-scheme: dark)').matches;
      applyColorTheme(prefersDarkTheme ? 'dark' : 'light');

      // Listen for changes in the color theme
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (event) => {
        applyColorTheme(event.matches ? 'dark' : 'light');
      });

      // 面包屑导航功能已实现，不需要单独的返回顶层按钮

      // Fetch and render data
      fetch('json/pintree.json')
        .then(response => response.json())
        .then(data => {
          // Hide loading spinner
          const loadingSpinner = document.getElementById('loading-spinner');
          if (loadingSpinner) {
            loadingSpinner.style.display = 'none';
          }

          // Render navigation sidebar
          renderNavigationSidebar(data, document.getElementById('navigation'), true);
          
          // Render navigation content - 直接渲染数据，不包装在额外层级中
          renderNavigationContent(data, data);
        })
        .catch(error => {
          console.error('Error loading bookmarks:', error);
          // Hide spinner and show error
          const loadingSpinner = document.getElementById('loading-spinner');
          if (loadingSpinner) {
            loadingSpinner.style.display = 'none';
          }
        });

      // Search functionality on pressing Enter
      if (document.getElementById('searchInput')) {
        document.getElementById('searchInput').addEventListener('keydown', function (event) {
          if (event.key === 'Enter') {
            const query = event.target.value;
            searchBookmarks(query);
          }
        });
      }

      // Mobile menu functionality
      if (document.getElementById('open-sidebar-button')) {
        document.getElementById('open-sidebar-button').addEventListener('click', function () {
          fetch('json/pintree.json')
            .then(response => response.json())
            .then(data => {
              const sidebar2 = document.getElementById('sidebar-2');
              if (sidebar2) {
                sidebar2.innerHTML = '';
                const navigation = document.createElement('ul');
                navigation.id = 'navigation';
                navigation.className = 'space-y-1';
                renderNavigationSidebar(data, navigation, true);
                sidebar2.appendChild(navigation);
              }
            })
            .catch(error => console.error('Error loading mobile navigation:', error));
        });
      }
    });

    // Current year display
    document.addEventListener('DOMContentLoaded', (event) => {
      const yearElement = document.getElementById('currentYear');
      if (yearElement) {
        const currentYear = new Date().getFullYear();
        yearElement.textContent = currentYear;
      }
    });
  </script>

</body>

</html>